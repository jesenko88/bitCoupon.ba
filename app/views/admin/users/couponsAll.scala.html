@(coupons: List[Coupon], nonApprovedCoupons: List[Coupon])

@if(Sesija.getCurrentUser( ctx() ) != null ){
@main("Coupon List") {
<div class="header-middle">
<!--header-middle-->
<div class="container">
   <div class="row">
      <div class="col-sm-4">
         <div class="logo pull-left">
            <a href="/"><img src="@routes.Assets.at("images/home/logo.png")" alt="" /></a>
         </div>
      </div>
   </div>
</div>
<div class="header-bottom">
   <!--header-bottom-->
   <div class="container">
      <div class="row">
         <div class="col-sm-9">
            <div class="navbar-header">
               <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
               <span class="sr-only">Toggle navigation</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               </button>
            </div>
            <div class="mainmenu pull-left">
               <ul class="nav navbar-nav collapse navbar-collapse">
                  <li><a href="@routes.UserController.listUsers">Users panel</a></li>
                  <li><a href="/allCoupons">Coupons panel</a></li>
                  <li><a href="@routes.CouponController.addCouponView">Add Coupon panel</a></li>
                  <li><a href="@routes.CategoryController.listCategories">Category panel</a></li>
                  <li><a href="@routes.CategoryController.addCategoryView">Add Category panel</a></li>
               </ul>
            </div>
         </div>
      </div>
   </div>
</div>
<!--  LIST OF COUPONS  -->
<div class="container">
   <div class="col-sm-10">
      <div class="review-payment">
         <h2>List of active coupons</h2>
      </div>
      <div class="table-responsive cart_info">
         <table class="table table-condensed">
            <thead>
               <tr class="cart_menu">
                  <td class="image">Name</td>
                  <td class="description">Price</td>
                  <td class="price">Category</td>
                  <td class="quantity">Seller ID</td>
                  <td class="total">Edit User</td>
                  <td class="total">Delete User</td>
                  <td></td>
               </tr>
            </thead>
            <tbody>
               @for(coupon <- coupons){
               @if(coupon.checkIfExpired() == false){
               <tr>
                  <td> @coupon.name </td>
                  <td> @coupon.price </td>
                  <td> @coupon.category.name</td>
                  <td> @coupon.seller.id </td>
                  <td> <a href="@routes.CouponController.editCoupon(coupon.id)" class="btn btn-default" >Edit</a></td>
                  <td> <a href="@routes.CouponController.deleteCoupon(coupon.id)" onclick="return confirm('Are you sure you want to delete this company?');"class="btn btn-danger">Delete</a></td>
               </tr>
               }
               }
            </tbody>
         </table>
      </div>
   </div>
   <div class="col-sm-10">
      <div class="review-payment">
         <h2>List of expired Coupons</h2>
      </div>
      <div class="table-responsive cart_info">
         <table class="table table-condensed">
            <thead>
               <tr class="cart_menu">
                  <td class="image">Name</td>
                  <td class="description">Price</td>
                  <td class="price">Category</td>
                  <td class="quantity">Seller ID</td>
                  <td class="total">Edit User</td>
                  <td class="total">Delete User</td>
                  <td></td>
               </tr>
            </thead>
            <tbody>
               @for(coupon <- coupons){
               @if(coupon.checkIfExpired()){
               <tr>
                  <td> @coupon.name </td>
                  <td> @coupon.price </td>
                  <td> @coupon.category.name </td>
                  <td> @coupon.seller.id </td>
                  <td> <a href="@routes.CouponController.editCoupon(coupon.id)" class="btn btn-default" >Edit</a></td>
                  <td> <a href="@routes.CouponController.deleteCoupon(coupon.id)" onclick="return confirm('Are you sure you want to delete this company?');"class="btn btn-danger">Delete</a></td>
               </tr>
               }
               }
            </tbody>
         </table>
      </div>
   </div>
   
   <div class="col-sm-10">
      <div class="review-payment">
         <h2>List of coupons waiting to be approved</h2>
      </div>
      <div class="table-responsive cart_info">
         <table class="table table-condensed">
            <thead>
               <tr class="cart_menu">
                  <td class="image">Name</td>
                  <td class="description">Price</td>
                  <td class="price">Category</td>
                  <td class="quantity">Seller ID</td>
                  <td class="total">View</td>
                  <td class="total">Remove</td>
                  <td class="total">Approve</td>
                  <td></td>
               </tr>
            </thead>
            <tbody>
               @for(coupon <- nonApprovedCoupons){               
               <tr>
                  <td> @coupon.name </td>
                  <td> @coupon.price </td>
                  <td> @coupon.category.name </td>
                  <td> @coupon.seller.id </td>
                  <td> <a href="@routes.CouponController.editCoupon(coupon.id)" class="btn btn-default" >Edit</a></td>
                  <td> <a href="@routes.CouponController.deleteCoupon(coupon.id)" onclick="return confirm('Are you sure you want to delete this company?');"class="btn btn-danger">Delete</a></td>
                  <td> <a href="@routes.CouponController.approveCoupon(coupon.id)" class="btn btn-success" >Approve</a></td>
               </tr>
               
               }
            </tbody>
         </table>
      </div>
   </div>
   
</div>
<!-- END OF LIST -->
}
} else {
@main("Login to Complete"){
<div class="container">
   <div class="col-md-5 col-md-offset-3">
      <h1> :( You need to login to access this page.</h1>
   </div>
</div>
}
}